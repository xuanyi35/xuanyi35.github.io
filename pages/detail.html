<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" type="text/css" href="../css/style.css">
    <link rel="stylesheet" type="text/css" href="../css/detail.css">
    <script src="../script/script.js" type="text/javascript"></script>
    <script src="../script/detailscript.js" type="text/javascript"></script>

</head>
<body onload="mainDetail()">


<div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav();">&times;</a>
    <a href="../index.html">Home</a>
    <a href="travel.html">Travel</a>
    <a href="food.html">food Discovery</a>
    <a href="#">Contact</a>
</div>
<div id="main">
    <div style="position:fixed; width:100vw; background-image: url('../img/wallpaper.jpg');">
        <span style="font-size:25px;cursor:pointer; margin-left:2%; " onclick="openNav();">&#9776; Xuanyi's Blog </span>
    </div>
    <br>
    <div class="fixed-bg" style="margin-top:25px; ">
        <div class="transbox">
            
            <h3 id='name' style="padding-left:3%; "> </h3>
            <img id= 'pic' src="#" alt="Sorry We cannot find a Picture">
             <div id="box1">
                 <div id="box2">
                </div>
             </div>
             <div id="information">
                 <div id="inforIn">
                    <p id ='cuisines' style="padding-left:3%;">  </p>
                    <p style="padding-left:3%;" > Opening hours: </p>
                    <p id = 'time' style="padding-left:6%;" > </p>
                    <h6 id='location' style="padding-left:3%; ">  </h6>
                    <div id="googleMap" > </div>

                </div>
            </div>
            <!--p style="padding-left:3%;" ><button id="btn" onclick="MapFun()"> Show Map </button> </p-->

      </div>
    </div>
</div>


<script>
    function myMap() {
        //       import map     //
        rest = window.sessionStorage.getItem("rdetail");
        rest = JSON.parse(rest);
        var mapProp= {
            center:new google.maps.LatLng(rest.location.latitude, rest.location.longitude),
            //center:new google.maps.LatLng(35.6925286,139.6810207),

            zoom:12,
        };
        var map=new google.maps.Map(document.getElementById("googleMap"),mapProp);
        
        
        var pos = new google.maps.LatLng(rest.location.latitude, rest.location.longitude);
        var marker = new google.maps.Marker({position:pos});
        marker.setMap(map);
        var infowindow = new google.maps.InfoWindow({
                content: rest.name
        });
        marker.addListener('click', function() {
           infowindow.open(map, marker);
        });
    }
</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCMdn1JdmOlEF4C0GyGUOY0MvUbEg-Jd7Q&callback=myMap"></script>

</body>
</html>
